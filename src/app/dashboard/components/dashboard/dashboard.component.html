<div class="dashboard-container">
  <!-- Top Cards Section (for Admin, Sarpanch) -->
  <div class="cards d-flex justify-content-between gap-2">
    <!-- Total Users -->
    <a href="#" class="col-xl-3 col-md-6 col-sm-6" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="dashboard-analytics-card d-flex align-items-center" style="background-color: #ECEBFF;">
        <div class="circle-icon-back" style="background-color: #4F46BB;">
          <img src="assets/images/svg/Inquiries.svg" alt="Total Inquiries" />
        </div>
        <div class="d-flex flex-column gap-1">
          <h3 class="font-14 medium subTextColor mb-0">Total Residents</h3>
          <h3 class="font-24 semibold black mb-0">{{ dashboardData.totalUsers }}</h3>
        </div>
      </div>
    </a>
    <!-- Verified Users -->
    <a href="#" class="col-xl-3 col-md-6 col-sm-6" *ngIf="userRole === 'ADMIN'">
      <div class="dashboard-analytics-card d-flex align-items-center" style="background-color: #D8F7DD;">
        <div class="circle-icon-back" style="background-color: #3CD856;">
          <img src="assets/images/svg/shortlist.svg" alt="Pending Users" />
        </div>
        <div class="d-flex flex-column gap-1">
          <h3 class="font-14 medium subTextColor mb-0">Verified Residents</h3>
          <h3 class="font-24 semibold black mb-0">{{ dashboardData.totalVerifiedUsers }}</h3>
        </div>
      </div>
    </a>
    <!-- Pending Users -->
    <a href="#" class="col-xl-3 col-md-6 col-sm-6" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="dashboard-analytics-card d-flex align-items-center" style="background-color: #FEF5D4;">
        <div class="circle-icon-back" style="background-color: rgba(252, 205, 42, 0.71);">
          <img src="assets/images/svg/notification.svg" alt="Verified Users" />
        </div>
        <div class="d-flex flex-column gap-1">
          <h3 class="font-14 medium subTextColor mb-0">Pending Residents</h3>
          <h3 class="font-24 semibold black mb-0">{{ dashboardData.totalPendingUsers }}</h3>
        </div>
      </div>
    </a>
    <!-- Active Users -->
    <a href="#" class="col-xl-3 col-md-6 col-sm-6" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="dashboard-analytics-card d-flex align-items-center" style="background-color: #FFE9E9;">
        <div class="circle-icon-back" style="background-color: #FD9292;">
          <img src="assets/images/svg/rejected.svg" alt="Active Users" />
        </div>
        <div class="d-flex flex-column gap-1">
          <h3 class="font-14 medium subTextColor mb-0">Active Residents</h3>
          <h3 class="font-24 semibold black mb-0">{{ dashboardData.totalActiveUsers }}</h3>
        </div>
      </div>
    </a>
    <!-- InActive Users -->
    <a href="#" class="col-xl-3 col-md-6 col-sm-6" *ngIf="userRole === 'SARPANCH'">
      <div class="dashboard-analytics-card d-flex align-items-center" style="background-color: #FFE9E9;">
        <div class="circle-icon-back" style="background-color: #FD9292;">
          <img src="assets/images/svg/rejected.svg" alt="Active Users" />
        </div>
        <div class="d-flex flex-column gap-1">
          <h3 class="font-14 medium subTextColor mb-0">InActive Residents</h3>
          <h3 class="font-24 semibold black mb-0">{{ dashboardData.totalInActiveUsers }}</h3>
        </div>
      </div>
    </a>
  </div>

  <!-- Gender Distribution Section -->
  <div class="charts row">
    <div class="col-md-4" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="p-3 shadow-sm bg-white rounded">
        <h5 class="mb-3">Gender Distribution</h5>
        <canvas baseChart [data]="genderChartData" [type]="genderChartType"></canvas>
      </div>
    </div>

    <!-- Projects Section -->
    <!-- <div class="col-md-6" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="p-3 shadow-sm bg-white rounded">
        <h5 class="mb-3">Projects (Ongoing/Completed)</h5>
        <ul class="nav nav-tabs mb-2">
          <li class="nav-item" *ngFor="let status of ['Ongoing', 'Completed']">
            <a class="nav-link" [class.active]="selectedStatus === status" (click)="onStatusChange(status)">
              {{ status }}
            </a>
          </li>
        </ul>
        <div *ngFor="let proj of filteredProjects" class="p-2 border rounded mb-2">
          {{ proj.name }}
        </div>
      </div>
    </div> -->

    <!-- Announcements Section -->
    <div class="col-md-12" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="p-3 shadow-sm bg-white rounded">
        <h5 class="mb-3">Latest Announcements</h5>
        <div class="d-flex gap-3 overflow-auto">
          <div *ngFor="let ann of announcements" class="card p-3 min-width-250 shadow-sm">
            <small>{{ ann.date }}</small>
            <p class="mb-0">{{ ann.message }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Village-wise/District-wise Summary (Optional) -->
    <div class="col-md-6" *ngIf="userRole === 'ADMIN'">
      <div class="p-3 shadow-sm bg-white rounded">
        <h5 class="mb-3">Village/District-wise Summary</h5>
        <canvas baseChart [data]="villageDistrictChartData" [type]="'bar'"></canvas>
      </div>
    </div>

    <!-- Sarpanch Add Announcement/ Create Scheme Button (Optional) -->
    <div class="col-md-6" *ngIf="userRole === 'SARPANCH'">
      <div class="d-flex justify-content-between">
        <button class="btn btn-primary" (click)="addAnnouncement()">Add Announcement</button>
        <button class="btn btn-success" (click)="createScheme()">Create Scheme</button>
      </div>
    </div>
  </div>

  <!-- Resident Dashboard -->

  <div class="dashboard-cards d-flex justify-content-between" style="gap: 0.5rem;" *ngIf="userRole === 'RESIDENT'">
    <div class="dashboard-box users-icon">
      <i class="bi bi-people-fill icon"></i>
      <div>Total Users</div>
      <div class="count">{{ dashboardData.totalUsers }}</div>
    </div>
    <div class="dashboard-box schemes-icon">
      <i class="bi bi-file-earmark-text icon"></i>
      <div>Applied Schemes</div>
      <div class="count">{{ dashboardData.totalSchemes }}</div>
    </div>
    <div class="dashboard-box projects-icon">
      <i class="bi bi-kanban-fill icon"></i>
      <div>Total Projects</div>
      <div class="count">{{ dashboardData.totalProjects}}</div>
    </div>
    <div class="dashboard-box grievances-icon">
      <i class="bi bi-exclamation-triangle-fill icon"></i>
      <div>Grievances</div>
      <div class="count">{{ dashboardData.totalGrivences}}</div>
    </div>
  </div>




  <!-- Announcements Section -->
  <section class="announcements" *ngIf="announcements && userRole === 'RESIDENT'">
    <div class="container">
      <div class="announcements-inner">
        <div class="explore_head text-center">
          <span class="rounded-pill">Latest Updates</span><br />
          <h3>Important Announcements</h3>
        </div>

        <div class="announcement-container">
          <!-- Show message if no announcements -->
          <div *ngIf="announcements.length === 0" class="text-center">
            <p>No announcements available at the moment.</p>
          </div>

          <!-- Show slider if announcements exist -->
          <div *ngIf="announcements.length > 0" class="announcement-slider"
            [ngClass]="{ 'single-item': announcements.length === 1 }">
            <div class="announcement-item" *ngFor="let item of dashboardData.announcements">
              <h4>{{ item.title }}</h4>
              <p><strong>Date:</strong> {{ item.date | date: 'MMM dd, yyyy' }}</p>
              <p><strong>Description:</strong> {{ item.content }}</p>
              <a (click)="navigatToAnnouncementView(item.id)" style="cursor: pointer;">Read More</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>



  <hr>


  <section class="announcements" *ngIf="userRole === 'RESIDENT'">
    <div class="container">
      <h2>ðŸ“Œ Latest Government Schemes</h2>

      <!-- If there are no schemes -->
      <div *ngIf="schemes.length === 0">
        <p>No schemes available at the moment. Please check back later.</p>
      </div>

      <!-- If there is at least one scheme -->
      <div class="notes-container" *ngIf="schemes.length > 0">
        <div class="notes-slider" [ngClass]="{ 'slider-enabled': schemes.length > 1 }">
          <div class="note-item" *ngFor="let scheme of schemes">
            <h3>ðŸ“¢ {{ scheme.name }}</h3>
            <p><strong>Scheme Category:</strong> {{ scheme.category }}</p>
            <p><strong>Eligibility Criteria:</strong> {{ scheme.criteria }}</p>
            <p><strong>Application Process:</strong> {{ scheme.process }}</p>
            <p><strong>Benefits:</strong> {{ scheme.benefits }}</p>
            <a [routerLink]="['/schemes/view', scheme.id]">Read More</a>
          </div>
        </div>
      </div>
    </div>
  </section>
  <hr>

  <section class="project-cards d-flex flex-wrap justify-content-center">
    <div *ngFor="let project of projects; let i = index" class="project-card">
      <div class="project-image">
        <img [src]="getImage(i)" alt="Project Image" />
      </div>
      <h3 class="project-title">{{ project.projectName }}</h3>
      <!-- View More Details button -->
      <!-- <a [routerLink]="['/project/${project.id}/view']" class="view-more-link">
        View More Details
      </a> -->
    </div>
  </section>


</div>