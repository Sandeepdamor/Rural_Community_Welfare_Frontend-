<div class="dashboard-container">
  <!-- Top Cards Section (for Admin, Sarpanch) -->
  <div class="cards d-flex justify-content-between gap-2">
    <!-- Total Users -->
    <a href="#" class="col-xl-3 col-md-6 col-sm-6" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="dashboard-analytics-card d-flex align-items-center" style="background-color: #ECEBFF;">
        <div class="circle-icon-back" style="background-color: #4F46BB;">
          <img src="assets/images/svg/Inquiries.svg" alt="Total Inquiries" />
        </div>
        <div class="d-flex flex-column gap-1">
          <h3 class="font-14 medium subTextColor mb-0">Total Residents</h3>
          <h3 class="font-24 semibold black mb-0">{{ dashboardData.totalUsers }}</h3>
        </div>
      </div>
    </a>
    <!-- Verified Users -->
    <a href="#" class="col-xl-3 col-md-6 col-sm-6" *ngIf="userRole === 'ADMIN'">
      <div class="dashboard-analytics-card d-flex align-items-center" style="background-color: #D8F7DD;">
        <div class="circle-icon-back" style="background-color: #3CD856;">
          <img src="assets/images/svg/shortlist.svg" alt="Pending Users" />
        </div>
        <div class="d-flex flex-column gap-1">
          <h3 class="font-14 medium subTextColor mb-0">Verified Residents</h3>
          <h3 class="font-24 semibold black mb-0">{{ dashboardData.totalVerifiedUsers }}</h3>
        </div>
      </div>
    </a>
    <!-- Pending Users -->
    <a href="#" class="col-xl-3 col-md-6 col-sm-6" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="dashboard-analytics-card d-flex align-items-center" style="background-color: #FEF5D4;">
        <div class="circle-icon-back" style="background-color: rgba(252, 205, 42, 0.71);">
          <img src="assets/images/svg/notification.svg" alt="Verified Users" />
        </div>
        <div class="d-flex flex-column gap-1">
          <h3 class="font-14 medium subTextColor mb-0">Pending Residents</h3>
          <h3 class="font-24 semibold black mb-0">{{ dashboardData.totalPendingUsers }}</h3>
        </div>
      </div>
    </a>
    <!-- Active Users -->
    <a href="#" class="col-xl-3 col-md-6 col-sm-6" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="dashboard-analytics-card d-flex align-items-center" style="background-color: #FFE9E9;">
        <div class="circle-icon-back" style="background-color: #FD9292;">
          <img src="assets/images/svg/rejected.svg" alt="Active Users" />
        </div>
        <div class="d-flex flex-column gap-1">
          <h3 class="font-14 medium subTextColor mb-0">Rejected Residents</h3>
          <h3 class="font-24 semibold black mb-0">{{ dashboardData.totalRejectedUsers }}</h3>
        </div>
      </div>
    </a>
    <!-- InActive Users -->
    <a href="#" class="col-xl-3 col-md-6 col-sm-6" *ngIf="userRole === 'SARPANCH'">
      <div class="dashboard-analytics-card d-flex align-items-center" style="background-color: #FFE9E9;">
        <div class="circle-icon-back" style="background-color: #FD9292;">
          <img src="assets/images/svg/rejected.svg" alt="Active Users" />
        </div>
        <div class="d-flex flex-column gap-1">
          <h3 class="font-14 medium subTextColor mb-0">InActive Residents</h3>
          <h3 class="font-24 semibold black mb-0">{{ dashboardData.totalInActiveUsers }}</h3>
        </div>
      </div>
    </a>
  </div>

  <!-- Gender Distribution Section -->
  <div class="charts row">
    <div class="col-md-4" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="p-3 shadow-sm bg-white rounded">
        <h5 class="mb-3">Gender Distribution</h5>
        <canvas baseChart [data]="genderChartData" [type]="genderChartType"></canvas>
      </div>
    </div>

    <!-- Projects Section -->
    <div class="col-md-6" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="p-3 shadow-sm bg-white rounded">
        <h5 class="mb-3">Projects</h5>

        <!-- Tab navigation for filtering project status -->
        <ul class="nav nav-tabs mb-2">
          <li class="nav-item" *ngFor="let status of statusTabs">
            <a class="nav-link" [class.active]="selectedStatus === status.key" (click)="onStatusChange(status.key)">
              {{ status.label }}
            </a>

          </li>
        </ul>


        <!-- Project list filtered by selected status -->
        <div *ngFor="let project of filteredProjects">
          <p>{{ project.projectName }}</p>
        </div>

      </div>
    </div>


    <!-- Announcements Section -->
    <div class="col-md-12" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH'">
      <div class="p-3 shadow-sm bg-white rounded">
        <h5 class="mb-3">Latest Announcements</h5>
        <div class="d-flex gap-3 overflow-auto">
          <div *ngFor="let ann of announcements" class="card p-3 min-width-250 shadow-sm">
            <small>{{ ann.date }}</small>
            <p class="mb-0">{{ ann.message }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Schemes Section for Admin, Sarpanch, and Resident -->
    <div class="col-md-6" *ngIf="userRole === 'ADMIN' || userRole === 'SARPANCH' || userRole === 'RESIDENT'">
      <div class="p-3 shadow-sm bg-white rounded">
        <h5 class="mb-3">Schemes</h5>
        <ul class="list-group">
          <li *ngFor="let scheme of schemes" class="list-group-item d-flex justify-content-between align-items-center">
            {{ scheme.title }}
            <span *ngIf="scheme.isNew" class="badge bg-primary">New</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- Village-wise/District-wise Summary (Optional) -->
    <div class="col-md-6" *ngIf="userRole === 'ADMIN'">
      <div class="p-3 shadow-sm bg-white rounded">
        <h5 class="mb-3">Village/District-wise Summary</h5>
        <canvas baseChart [data]="villageDistrictChartData" [type]="'bar'"></canvas>
      </div>
    </div>

    <!-- Sarpanch Add Announcement/ Create Scheme Button (Optional) -->
    <div class="col-md-6" *ngIf="userRole === 'SARPANCH'">
      <div class="d-flex justify-content-between">
        <button class="btn btn-primary" (click)="addAnnouncement()">Add Announcement</button>
        <button class="btn btn-success" (click)="createScheme()">Create Scheme</button>
      </div>
    </div>
  </div>

  <!-- Resident Dashboard -->
  <div *ngIf="userRole === 'RESIDENT'">
    <div class="resident-profile p-3 shadow-sm bg-white rounded">
      <h5 class="mb-3">Personal Profile</h5>
      <p>Name: {{ resident.name }}</p>
      <p>Status: {{ resident.status }}</p>
      <p>Contact: {{ resident.contactInfo }}</p>
    </div>

    <!-- Announcements for Resident -->
    <div class="p-3 shadow-sm bg-white rounded">
      <h5 class="mb-3">Announcements for Your Village</h5>
      <div *ngFor="let ann of residentAnnouncements" class="card p-3">
        <small>{{ ann.date }}</small>
        <p class="mb-0">{{ ann.message }}</p>
      </div>
    </div>

    <!-- Schemes Applicable to Resident -->
    <div class="p-3 shadow-sm bg-white rounded">
      <h5 class="mb-3">Applicable Schemes</h5>
      <ul class="list-group">
        <li *ngFor="let scheme of residentSchemes" class="list-group-item">
          {{ scheme.title }}
        </li>
      </ul>
    </div>

    <!-- Ongoing Projects for Resident -->
    <div class="p-3 shadow-sm bg-white rounded">
      <h5 class="mb-3">Ongoing Projects in Your Area</h5>
      <ul class="list-group">
        <li *ngFor="let project of ongoingProjects" class="list-group-item">
          {{ project.name }}
        </li>
      </ul>
    </div>

    <!-- Sarpanch Contact Information (Optional) -->
    <div class="p-3 shadow-sm bg-white rounded">
      <h5 class="mb-3">Sarpanch Contact Information</h5>
      <p>Name: {{ sarpanch.name }}</p>
      <p>Phone: {{ sarpanch.phone }}</p>
      <p>Email: {{ sarpanch.email }}</p>
    </div>
  </div>
</div>