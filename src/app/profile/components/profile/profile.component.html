<div *ngIf="isDataLoaded">
    <div class="scalable-gap-24-16 scalable-p-16-8 cardBackground d-flex flex-column">
        <div class="d-flex gap-2 align-items-center">
            <img src="assets/images/svg/Back-Icon.svg" class="cursor-pointer" height="30" width="30" (click)="goBack()"/>
            <h2 class="font-18 medium black mb-0">Profile</h2>
        </div>
        <!-- profile Image -->
        <div class="position-relative">
            <img src="assets/images/png/profile-background.png" alt="profile-background"
                class="img-fluid w-100 profileEdit-img">
            <label for="file-input">
                <img src="assets/images/svg/profile.svg" class="choose-File object-fit-cover rounded-circle img-fluid">
            </label>
            <input type="file" id="file-input" style="display: none;" accept="image/*" [disabled]="isViewOnly" />
        </div>

        <div class="profile-container d-flex flex-column">
            <!-- profile Details -->
            <div class="d-flex flex-column gap-2">
                <h3 class="font-30 semibold black mb-0 d-flex align-items-center gap-3">{{ resident.name | gender: resident.gender }}

                    <span class="font-14 medium themeColor themeLight p-2 py-1 rounded-pill">RESIDENT</span>
                </h3>
                <!-- <h4 class="font-14 regular black mb-0">{{ resident.phone }}</h4> -->
            </div>
            <!-- Tabs List -->
            <ul class="nav nav-pills scalable-gap-24-16" id="pills-tab" role="tablist" *ngIf="!isViewOnly">
                <li class="nav-item" role="presentation">
                    <button class="active profile-tabs font-14 medium" id="pills-EditProfile-tab" data-bs-toggle="pill"
                        data-bs-target="#pills-EditProfile" type="button" role="tab" aria-controls="pills-EditProfile"
                        aria-selected="true">Edit Profile</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="profile-tabs font-14 medium" id="pills-ChangePassword-tab" data-bs-toggle="pill"
                        data-bs-target="#pills-ChangePassword" type="button" role="tab"
                        aria-controls="pills-ChangePassword" aria-selected="false">Change Password</button>
                </li>
            </ul>
            <!-- Tabs Content -->
            <div class="tab-content" id="pills-tabContent">
                <!-- Edit Profile Content -->
                <div class="tab-pane fade show active" id="pills-EditProfile" role="tabpanel"
                    aria-labelledby="pills-EditProfile-tab" tabindex="0">
                    <div class="d-flex flex-column scalable-gap-24-16">
                        <div class="d-flex flex-column gap-1 w-100">
                            <!-- <h4 class="mb-0 font-14 regular subTextColor" >Id</h4> -->
                            <input type="text" class="input-field" [(ngModel)]="resident.id" [disabled]="isViewOnly"
                                hidden />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100">
                            <h4 class="mb-0 font-14 regular subTextColor">Name</h4>
                            <input type="text" class="input-field" placeholder="Enter Name" [(ngModel)]="resident.name"
                                [disabled]="isViewOnly" />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100" *ngIf=" !isViewOnly || resident.email">
                            <h4 class="mb-0 font-14 regular subTextColor">Email</h4>
                            <input type="text" class="input-field" placeholder="Enter Email"
                                [(ngModel)]="resident.email" [disabled]="isViewOnly" />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100">
                            <h4 class="mb-0 font-14 regular subTextColor">Mobile no.</h4>
                            <input type="text" class="input-field" placeholder="Enter phone no."
                                [(ngModel)]="resident.phone" [disabled]="isViewOnly" readonly />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100" *ngIf="!isViewOnly || resident.age">
                            <h4 class="mb-0 font-14 regular subTextColor">Age</h4>
                            <input type="number" class="input-field" placeholder="Enter Age" [(ngModel)]="resident.age"
                                [disabled]="isViewOnly" />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100">
                            <h4 class="mb-0 font-14 regular subTextColor">Gender</h4>
                            <input type="text" class="input-field" placeholder="Enter Age" [(ngModel)]="resident.gender"
                                [disabled]="isViewOnly" />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100">
                            <h4 class="mb-0 font-14 regular subTextColor">Aadhar Number</h4>
                            <input type="text" class="input-field" placeholder="Enter Aadhar Number"
                                [(ngModel)]="resident.aadharNumber" [disabled]="isViewOnly" />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100" *ngIf="!isViewOnly || resident.houseNumber">
                            <h4 class="mb-0 font-14 regular subTextColor">House Number</h4>
                            <input type="text" class="input-field" placeholder="Enter House Number"
                                [(ngModel)]="resident.houseNumber" [disabled]="isViewOnly" />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100">
                            <h4 class="mb-0 font-14 regular subTextColor">Address</h4>
                            <input type="text" class="input-field" placeholder="Enter Address"
                            [value]="formattedAddress" [disabled]="isViewOnly" />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100">
                            <h4 class="mb-0 font-14 regular subTextColor">Create Date</h4>
                            <input type="text" class="input-field" [value]="resident.createdAt | date: 'dd MMM yyyy, h:mm a'" 
                                [disabled]="isViewOnly" readonly />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100">
                            <h4 class="mb-0 font-14 regular subTextColor">Last Updated Date</h4>
                            <input type="text" class="input-field" [value]="resident.updatedAt | date: 'dd MMM yyyy, h:mm a'" 
                                [disabled]="isViewOnly" readonly />
                        </div>
                    </div>
                </div>
                <!-- Change Password Content -->
                <div class="tab-pane fade" id="pills-ChangePassword" role="tabpanel"
                    aria-labelledby="pills-ChangePassword-tab" tabindex="0">
                    <div class="d-flex flex-column scalable-gap-24-16">
                        <div class="d-flex flex-column gap-1 w-100">
                            <h4 class="mb-0 font-14 regular subTextColor">Old Password</h4>
                            <input type="text" class="input-field" placeholder="Enter Old Password" />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100">
                            <h4 class="mb-0 font-14 regular subTextColor">New Password</h4>
                            <input type="text" class="input-field" placeholder="Enter New Password" />
                        </div>
                        <div class="d-flex flex-column gap-1 w-100">
                            <h4 class="mb-0 font-14 regular subTextColor">Confirm Password</h4>
                            <input type="text" class="input-field" placeholder="Confirm Password" />
                        </div>
                    </div>
                </div>
            </div>
            <!-- BUTTON -->
            <div class="d-flex scalable-gap-24-16 justify-content-end align-items-center" *ngIf="!isViewOnly">
                <button type="button" class="secondary-button py-2 scalable-p-48-24">Cancel</button>
                <button type="button" class="primary-button py-2 scalable-p-48-24" (click)="updateProfile()"
                    [disabled]="isViewOnly">Update</button>
            </div>
        </div>

    </div>
</div>